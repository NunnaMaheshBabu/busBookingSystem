<!-- <p>get-availability works!</p>

<div class="container"  >
<div class="card">
    <div class="card-body" style="text-align: center">
        <h3>Online Bus Ticket Booking</h3>
    </div>
</div>

<div class="row" >
    <div class="col-sm-12">
        <br>
        <div class="card" style="background:snow" >
            <div class="card-body">
                <h3 >Search Bus</h3>
                <form #checkAvailForm="ngForm" >
                    <fieldset >
                        <label for="startingPoint" class="text-success"> <b>FROM:  </b></label>
                        <input type="text" #startingPoint="ngModel" ngModel name="startingPoint" id="startingPoint"
                            class="form-control" required placeholder="Enter starting Point ">

                        <label for="endingPoint" class="text-success"> <b>TO: </b></label>
                        <input type="text" #endingPoint="ngModel" ngModel name="endingPoint" id="endingPoint"
                            class="form-control" required placeholder="Enter ending Point ">

                        <label for="availableDate" class="text-success"> <b>DATE:</b></label>
                        <input type="date" #availableDate="ngModel" ngModel name="availableDate" id="availableDate"
                            class="form-control">
                        <br>
                        <button class="btn btn-primary" [disabled]="checkAvailForm.invalid">Search</button>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</div>
</div> -->

       <!-- {{locationArray | json}} -->

    <!-- <div class="col-md-9 offset-md-2 card card-body mt-3" >
        <table class="table table-bordered table-hover table-striped">
            <thead class="bg-info">
                <td>Available Date</td>
                <td>Available Seat</td>
                <td>Bus Id</td>
            </thead>
            <tbody>
                 <tr *ngFor='let avail of avails'>
                            <td>{{avail.availableDate | date }}</td>
                            <td>{{avail.availableSeat}}</td>
                            <td>{{avail.busId}}</td>
                        </tr>
            </tbody>
        </table> -->








        <div class="container">
        <div class="card">
            <div class="card-body" style="text-align: center">
                <h3>Online Bus Ticket Booking</h3>
            </div>
        </div>
        
        <div class="row">
            <div class="col-sm-12">
                <br>
                <div class="card" style="background:snow">
                    <div class="card-body">
                        <h3 style="text-align: center;">Search Bus</h3>
                        <form  #checkAvailForm="ngForm" (ngSubmit)="checkAvail(checkAvailForm)">
                            <fieldset>
                                <label for="source" class="text-success"> <b>FROM: </b></label>
                                <input type="text" #startingPoint="ngModel" ngModel name="source" id="source"
                                    class="form-control" required placeholder="Enter starting Point ">
        
                                <label for="destination" class="text-success"> <b>TO: </b></label>
                                <input type="text" #endingPoint="ngModel" ngModel name="destination" id="destination"
                                    class="form-control" required placeholder="Enter ending Point "> &nbsp;
        
                                <!-- <label for="availableDate" class="text-success"> <b>DATE: </b></label>
                                <input type="date" #availableDate="ngModel" ngModel name="availableDate" id="availableDate"
                                    class="form-control">
                                <br> -->
                                <div style="text-align: center;">
                                <button class="btn btn-primary"  style="text-align: center;" [disabled]="checkAvailForm.invalid">Search</button>
                            </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
                <!-- {{buses|json}} -->
            <div class="col-md-9 card card-body mt-3" *ngIf="check" style="text-align: center; float: right;">
                <table class="table table-bordered table-hover table-striped">
                    <thead class="bg-info">
                        <!-- <td>Available Date</td> -->
                        <td>Bus Id</td>
                        <td>Available Seats</td>
                        <td>Bus Number</td>
                        <td>Source</td>
                        <td>Destination</td>
                        <td>Price</td>
                        <td>BusType</td>
                        <td>Driver Name</td>
                        <td>Phone Number</td>
                        <td>Action</td>


                    </thead>
                    <tbody>
                        <tr *ngFor="let bus of buses1;let i=index">
                            <!-- <td>{{bus.setavailableDate | date }}</td> -->
                           <td>{{bus.busId}}</td>
                           <td>{{bus.totalSeats}}</td>
                           <td>{{bus.busNumber}}</td>
                           <td>{{bus.source}}</td>
                           <td>{{bus.destination}}</td>
                            <td>{{bus.price}}</td>
                            <td>{{bus.busType}}</td>
                            <td>{{bus.driverName}}</td>
                            <td>{{bus.phoneNumber}}</td>
                            <td>
                              
                                <button  class="btn btn-success" (click)="showAval(i,bus.busId)" >Show Availability</button>&nbsp;


                            </td>
                             
                        </tr>
                    </tbody>
                </table>
            </div>



            <!-- _____Show Availabilities__________ -->

             <!-- showing bus availability -->
     <div >&nbsp;
 <ng-container *ngIf="showContainer" style="text-align: center; width: 100px;">
        <table class="table table-hover" style="text-align: center;">
            <thead style="background-color: gray;">
                <tr>
                    <th> Sr no</th>
                    <th> Available Dates</th>
                    <th> Available Seats</th>
                    <th> Action</th>

                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let aval of avalBus; let i = index">
                    <td>{{i+1}}</td>
                    <td>{{aval.availableDate}}</td>
                    <td>{{aval.noAvailableSeates}}</td>
                     <td>
                        <button  class="btn btn-success" (click)="toBookTicket(aval.setAvailId)">Select Seats</button>&nbsp;
                       
                     </td>
                </tr>
            </tbody>
        </table> 
    </ng-container>

</div>
